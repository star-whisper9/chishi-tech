import{g as ce,a as de,r as R,u as ue,j as e,s as he,d as fe,e as Ee,T as f,i as me,c as ae,A as x,R as j,C as Q,v as ie,S as I,t as b,I as ee,w as _,y as z,D as Re,z as xe,M as pe}from"./index-CYJ5CfpZ.js";import{S as te}from"./Slider-GVKQgzsT.js";import{A as N}from"./Alert-C2YT9GGQ.js";import{L as re}from"./LinearProgress-BOE4aQut.js";import{C as se,a as ge,D as we,b as Oe,c as ve,d as je,e as De,f as be}from"./DownloadRounded-DGAdKD3N.js";import{F as Fe,I as Se,S as Ce}from"./Select-BNhs-psG.js";import{C as Ie}from"./Chip-CSRhxNiB.js";function Le(t){return ce("MuiDialogContentText",t)}de("MuiDialogContentText",["root"]);const ye=t=>{const{classes:r}=t,n=Ee({root:["root"]},Le,r);return{...r,...n}},Ae=he(f,{shouldForwardProp:t=>me(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({}),_e=R.forwardRef(function(r,s){const n=ue({props:r,name:"MuiDialogContentText"}),{children:o,className:a,...u}=n,i=ye(u);return e.jsx(Ae,{component:"p",variant:"body1",color:"textSecondary",ref:s,ownerState:u,className:fe(i.root,a),...n,classes:i})}),ke=ae(e.jsx("path",{d:"m10.8 15.9 4.67-3.5c.27-.2.27-.6 0-.8L10.8 8.1c-.33-.25-.8-.01-.8.4v7c0 .41.47.65.8.4M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),ne=ae(e.jsx("path",{d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3M12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1m1 4h-2v-2h2z"}));var c;(function(t){t.LOAD="LOAD",t.EXEC="EXEC",t.FFPROBE="FFPROBE",t.WRITE_FILE="WRITE_FILE",t.READ_FILE="READ_FILE",t.DELETE_FILE="DELETE_FILE",t.RENAME="RENAME",t.CREATE_DIR="CREATE_DIR",t.LIST_DIR="LIST_DIR",t.DELETE_DIR="DELETE_DIR",t.ERROR="ERROR",t.DOWNLOAD="DOWNLOAD",t.PROGRESS="PROGRESS",t.LOG="LOG",t.MOUNT="MOUNT",t.UNMOUNT="UNMOUNT"})(c||(c={}));const Ue=(()=>{let t=0;return()=>t++})(),We=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),Te=new Error("called FFmpeg.terminate()");class Me{#t=null;#s={};#r={};#n=[];#o=[];loaded=!1;#a=()=>{this.#t&&(this.#t.onmessage=({data:{id:r,type:s,data:n}})=>{switch(s){case c.LOAD:this.loaded=!0,this.#s[r](n);break;case c.MOUNT:case c.UNMOUNT:case c.EXEC:case c.FFPROBE:case c.WRITE_FILE:case c.READ_FILE:case c.DELETE_FILE:case c.RENAME:case c.CREATE_DIR:case c.LIST_DIR:case c.DELETE_DIR:this.#s[r](n);break;case c.LOG:this.#n.forEach(o=>o(n));break;case c.PROGRESS:this.#o.forEach(o=>o(n));break;case c.ERROR:this.#r[r](n);break}delete this.#s[r],delete this.#r[r]})};#e=({type:r,data:s},n=[],o)=>this.#t?new Promise((a,u)=>{const i=Ue();this.#t&&this.#t.postMessage({id:i,type:r,data:s},n),this.#s[i]=a,this.#r[i]=u,o?.addEventListener("abort",()=>{u(new DOMException(`Message # ${i} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(We);on(r,s){r==="log"?this.#n.push(s):r==="progress"&&this.#o.push(s)}off(r,s){r==="log"?this.#n=this.#n.filter(n=>n!==s):r==="progress"&&(this.#o=this.#o.filter(n=>n!==s))}load=({classWorkerURL:r,...s}={},{signal:n}={})=>(this.#t||(this.#t=r?new Worker(new URL(r,import.meta.url),{type:"module"}):new Worker(new URL("/assets/worker-BAOIWoxA.js",import.meta.url),{type:"module"}),this.#a()),this.#e({type:c.LOAD,data:s},void 0,n));exec=(r,s=-1,{signal:n}={})=>this.#e({type:c.EXEC,data:{args:r,timeout:s}},void 0,n);ffprobe=(r,s=-1,{signal:n}={})=>this.#e({type:c.FFPROBE,data:{args:r,timeout:s}},void 0,n);terminate=()=>{const r=Object.keys(this.#r);for(const s of r)this.#r[s](Te),delete this.#r[s],delete this.#s[s];this.#t&&(this.#t.terminate(),this.#t=null,this.loaded=!1)};writeFile=(r,s,{signal:n}={})=>{const o=[];return s instanceof Uint8Array&&o.push(s.buffer),this.#e({type:c.WRITE_FILE,data:{path:r,data:s}},o,n)};mount=(r,s,n)=>{const o=[];return this.#e({type:c.MOUNT,data:{fsType:r,options:s,mountPoint:n}},o)};unmount=r=>{const s=[];return this.#e({type:c.UNMOUNT,data:{mountPoint:r}},s)};readFile=(r,s="binary",{signal:n}={})=>this.#e({type:c.READ_FILE,data:{path:r,encoding:s}},void 0,n);deleteFile=(r,{signal:s}={})=>this.#e({type:c.DELETE_FILE,data:{path:r}},void 0,s);rename=(r,s,{signal:n}={})=>this.#e({type:c.RENAME,data:{oldPath:r,newPath:s}},void 0,n);createDir=(r,{signal:s}={})=>this.#e({type:c.CREATE_DIR,data:{path:r}},void 0,s);listDir=(r,{signal:s}={})=>this.#e({type:c.LIST_DIR,data:{path:r}},void 0,s);deleteDir=(r,{signal:s}={})=>this.#e({type:c.DELETE_DIR,data:{path:r}},void 0,s)}var G;(function(t){t.MEMFS="MEMFS",t.NODEFS="NODEFS",t.NODERAWFS="NODERAWFS",t.IDBFS="IDBFS",t.WORKERFS="WORKERFS",t.PROXYFS="PROXYFS"})(G||(G={}));const Ne=new Error("failed to get response body reader"),Pe=new Error("failed to complete download"),Ve="Content-Length",Be=t=>new Promise((r,s)=>{const n=new FileReader;n.onload=()=>{const{result:o}=n;o instanceof ArrayBuffer?r(new Uint8Array(o)):r(new Uint8Array)},n.onerror=o=>{s(Error(`File could not be read! Code=${o?.target?.error?.code||-1}`))},n.readAsArrayBuffer(t)}),Ke=async t=>{let r;if(typeof t=="string")/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(t)?r=atob(t.split(",")[1]).split("").map(s=>s.charCodeAt(0)):r=await(await fetch(t)).arrayBuffer();else if(t instanceof URL)r=await(await fetch(t)).arrayBuffer();else if(t instanceof File||t instanceof Blob)r=await Be(t);else return new Uint8Array;return new Uint8Array(r)},$e=async(t,r)=>{const s=await fetch(t);let n;try{const o=parseInt(s.headers.get(Ve)||"-1"),a=s.body?.getReader();if(!a)throw Ne;const u=[];let i=0;for(;;){const{done:h,value:v}=await a.read(),p=v?v.length:0;if(h){if(o!=-1&&o!==i)throw Pe;r&&r({url:t,total:o,received:i,delta:p,done:h});break}u.push(v),i+=p,r&&r({url:t,total:o,received:i,delta:p,done:h})}const E=new Uint8Array(i);let w=0;for(const h of u)E.set(h,w),w+=h.length;n=E.buffer}catch(o){console.log("failed to send download progress event: ",o),n=await s.arrayBuffer()}return n},B=async(t,r,s=!1,n)=>{const o=s?await $e(t,n):await(await fetch(t)).arrayBuffer(),a=new Blob([o],{type:r});return URL.createObjectURL(a)};function Xe(){try{return typeof File>"u"?(console.warn("[WORKERFS] File API 不支持"),!1):typeof Worker>"u"?(console.warn("[WORKERFS] Web Worker 不支持"),!1):typeof window<"u"&&!window.isSecureContext?(console.warn("[WORKERFS] 非安全上下文（需要 HTTPS 或 localhost）"),!1):(console.log("[WORKERFS] 静态环境检查通过"),!0)}catch(t){return console.error("[WORKERFS] 静态检查失败:",t),!1}}async function ze(t){const r="/.probe-workerfs";try{await t.createDir(r);const s=new Uint8Array([1,2,3]),n=new Blob([s],{type:"application/octet-stream"}),o=new File([n],"probe.bin",{type:"application/octet-stream"});await t.mount(G.WORKERFS,{files:[o]},r);const a=await t.readFile(`${r}/probe.bin`),u=a&&a.length===s.length;return await t.unmount(r),await t.deleteDir(r),console.log(`[WORKERFS] 动态探测${u?"成功":"失败"}`),u}catch(s){console.warn("[WORKERFS] 动态探测失败:",s);try{await t.unmount(r).catch(()=>{}),await t.deleteDir(r).catch(()=>{})}catch{}return!1}}async function Ge(t){try{return Xe()?await ze(t):!1}catch(r){return console.error("[WORKERFS] 支持检测失败:",r),!1}}function He(t){const r=t.match(/\.[^/.]+$/);return r?r[0]:""}function Ze(t){return{mp4:"video/mp4",mov:"video/quicktime",mkv:"video/x-matroska",gif:"image/gif"}[t]||"video/mp4"}function M(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(2)} KB`:t<1024*1024*1024?`${(t/(1024*1024)).toFixed(2)} MB`:`${(t/(1024*1024*1024)).toFixed(2)} GB`}const Ye=()=>{const[t,r]=R.useState(!1),[s,n]=R.useState(!1),[o,a]=R.useState(null),[u,i]=R.useState(null),[E,w]=R.useState(null),[h,v]=R.useState(null),[p,K]=R.useState(!1),F=R.useRef(null),P=R.useRef(!1),O=R.useRef(null),$=R.useCallback(async()=>{if(!(P.current&&F.current)){r(!0),i(null);try{const d=new Me;d.on("log",({message:m})=>{console.log("[FFmpeg]",m)}),d.on("progress",({progress:m,time:l})=>{a({ratio:m,time:l,speed:`${(m*100).toFixed(1)}%`})});let g=!1,L=null;try{console.log("[FFmpeg] 正在加载多线程版本...");const m=x.CDN_PACKAGES.FFMPEG_MT;await d.load({coreURL:await B(`${m}/ffmpeg-core.js`,"text/javascript"),wasmURL:await B(`${m}/ffmpeg-core.wasm`,"application/wasm"),workerURL:await B(`${m}/ffmpeg-core.worker.js`,"text/javascript")}),g=!0,console.log("[FFmpeg] ✅ 多线程版本加载成功")}catch(m){console.warn("[FFmpeg] ⚠️ 多线程版本加载失败，尝试单线程版本...",m),L=m instanceof Error?m:new Error(String(m));try{const l=x.CDN_PACKAGES.FFMPEG;await d.load({coreURL:await B(`${l}/ffmpeg-core.js`,"text/javascript"),wasmURL:await B(`${l}/ffmpeg-core.wasm`,"application/wasm")}),g=!0,console.log("[FFmpeg] ✅ 单线程版本加载成功")}catch(l){console.error("[FFmpeg] ❌ 单线程版本也加载失败",l),L=l instanceof Error?l:new Error(String(l))}}if(!g)throw L||new Error("所有 FFmpeg 版本均加载失败");F.current=d,P.current=!0,console.log("[WORKERFS] 开始检测支持...");const y=await Ge(d);K(y),console.log(y?"[WORKERFS] ✅ 支持！将在处理时优先使用 WORKERFS 模式":"[WORKERFS] ❌ 不支持，将使用 RAM 模式")}catch(d){const g=d instanceof Error?d.message:"加载 FFmpeg 失败";i(g),console.error("加载 FFmpeg 失败:",d)}finally{r(!1)}}},[]),V=R.useCallback(()=>{E?.url&&URL.revokeObjectURL(E.url),w(null)},[E]),X=R.useCallback(async(d,g,L)=>{if(!F.current||!P.current){i("FFmpeg 尚未加载，请先加载");return}const y=new AbortController;O.current=y,n(!0),i(null),a(null),E?.url&&URL.revokeObjectURL(E.url),w(null);const m=p;try{const l=F.current,A="input"+He(d.name),T=`output.${g}`;if(m){console.log("[WORKERFS] 使用 WORKERFS 模式处理大文件...");const C="/input",le=`${C}/${d.name}`;try{await l.createDir(C),await l.mount(G.WORKERFS,{files:[d]},C),console.log("开始转换...");const J=oe(le,T,g,L);await l.exec(J,void 0,{signal:y.signal}),await l.unmount(C),await l.deleteDir(C)}catch(J){try{await l.unmount(C).catch(()=>{}),await l.deleteDir(C).catch(()=>{})}catch{}throw J}}else{console.log("[RAM] 使用传统 RAM 模式..."),console.log("写入输入文件..."),await l.writeFile(A,await Ke(d)),console.log("开始转换...");const C=oe(A,T,g,L);await l.exec(C,void 0,{signal:y.signal}),await l.deleteFile(A)}console.log("读取输出文件...");const Y=await l.readFile(T),D=new Blob([Y],{type:Ze(g)}),S=URL.createObjectURL(D),k=`${d.name.replace(/\.[^/.]+$/,"")}.${g}`;w({url:S,name:k}),console.log(`转换成功 (使用 ${m?"WORKERFS":"RAM"} 模式)`),await l.deleteFile(T)}catch(l){if(l instanceof DOMException&&l.name==="AbortError")console.log("转换已被用户取消"),i("转换已取消");else{const A=l instanceof Error?l.message:"视频转换失败";i(A),console.error("视频转换失败:",l)}}finally{n(!1),a(null),O.current=null}},[E,p]),U=R.useCallback(()=>{O.current&&s&&(console.log("正在取消转换..."),O.current.abort())},[s]),H=R.useCallback(d=>{const g=URL.createObjectURL(d);return v(g),g},[]),Z=R.useCallback(d=>{URL.revokeObjectURL(d),h===d&&v(null)},[h]),W=R.useCallback(()=>{i(null)},[]);return{isLoading:t,isConverting:s,progress:o,error:u,outputFile:E,previewUrl:h,supportsWorkerFS:p,loadFFmpeg:$,convertVideo:X,cancelConversion:U,clearOutput:V,clearError:W,getPreviewUrl:H,revokePreviewUrl:Z}};function oe(t,r,s,n){const o=["-i",t];let a=[];switch(s){case"mp4":case"mov":a=["-c:v","libx264","-preset","medium","-crf","23","-c:a","aac"];break;case"mkv":a=["-c:v","libx265","-preset","medium","-crf","24","-c:a","aac"];break;case"gif":{const u=n?.fps||x.VIDEO_CONVERTOR.DEFAULT_WIDTH/48,i=n?.width||x.VIDEO_CONVERTOR.DEFAULT_WIDTH;let E=`fps=${Math.min(u,x.VIDEO_CONVERTOR.MAX_FPS)}`;if(E+=`,scale=${Math.min(i,x.VIDEO_CONVERTOR.MAX_WIDTH)}:-1:flags=lanczos`,n?.maxDuration){const h=x.VIDEO_CONVERTOR.MAX_FRAMES/u;a=["-t",Math.min(n.maxDuration,h).toString()]}a=[...a,"-vf",E];break}default:a=["-c:v","copy","-c:a","copy"]}return[...o,...a,r]}const qe=({config:t,onChange:r,videoDuration:s})=>{const n=(w,h)=>{r({...t,fps:h})},o=(w,h)=>{r({...t,width:h})},a=s?Math.ceil(t.fps*s):null,u=x.VIDEO_CONVERTOR.MAX_FRAMES/t.fps,i=a!==null&&a>x.VIDEO_CONVERTOR.MAX_FRAMES,E=i?u:s;return j.useEffect(()=>{if(i&&E)r({...t,maxDuration:E});else{const{maxDuration:w,...h}=t;w!==void 0&&r(h)}},[i,E]),e.jsx(Q,{variant:"outlined",sx:{mt:2},children:e.jsxs(ie,{children:[e.jsx(f,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"GIF 转换设置"}),e.jsxs(I,{spacing:3,children:[e.jsxs(b,{children:[e.jsxs(f,{variant:"body2",gutterBottom:!0,children:["帧率 (FPS): ",t.fps]}),e.jsx(te,{value:t.fps,onChange:n,min:1,max:x.VIDEO_CONVERTOR.MAX_FPS,step:1,marks:[{value:3,label:"3"},{value:10,label:"10"},{value:15,label:"15"},{value:24,label:"24"},{value:30,label:"30"}],valueLabelDisplay:"auto"}),e.jsx(f,{variant:"caption",color:"text.secondary",children:"较低的帧率可以减小文件大小，但动画会不够流畅"})]}),e.jsxs(b,{children:[e.jsxs(f,{variant:"body2",gutterBottom:!0,children:["宽度 (px): ",t.width]}),e.jsx(te,{value:t.width,onChange:o,min:240,max:x.VIDEO_CONVERTOR.MAX_WIDTH,step:40,marks:[{value:360,label:"360"},{value:480,label:"480"},{value:720,label:"720"},{value:1080,label:"1080"},{value:1920,label:"1920"}],valueLabelDisplay:"auto"}),e.jsx(f,{variant:"caption",color:"text.secondary",children:"宽度越小，文件大小越小。高度会按比例自动调整"})]}),a!==null&&e.jsxs(N,{severity:i?"warning":"info",sx:{mt:1},children:[e.jsxs(f,{variant:"body2",children:["预估帧数: ",a.toLocaleString()," 帧"]}),i&&e.jsxs(e.Fragment,{children:[e.jsxs(f,{variant:"body2",sx:{mt:1},children:["⚠️ 超出最大帧数限制 (",x.VIDEO_CONVERTOR.MAX_FRAMES.toLocaleString()," 帧)"]}),e.jsxs(f,{variant:"body2",sx:{mt:.5},children:["将只转换前 ",u.toFixed(1)," 秒的内容"]})]})]})]})]})})},Je=()=>{const{isLoading:t,isConverting:r,progress:s,error:n,outputFile:o,loadFFmpeg:a,convertVideo:u,cancelConversion:i,clearOutput:E,clearError:w,getPreviewUrl:h,revokePreviewUrl:v}=Ye(),[p,K]=j.useState(null),[F,P]=j.useState("mp4"),[O,$]=j.useState(null),[V,X]=j.useState(null),[U,H]=j.useState(x.VIDEO_CONVERTOR.MAX_FILE_SIZE_BYTES),[Z,W]=j.useState(!1),[d,g]=j.useState({fps:10,width:x.VIDEO_CONVERTOR.DEFAULT_WIDTH}),L=j.useRef(null);j.useEffect(()=>{a()},[a]),j.useEffect(()=>()=>{O&&v(O)},[O,v]);const y=D=>{const S=D.target.files?.[0];if(S){if(!S.type.startsWith("video/")&&!S.name.endsWith(".mkv")){alert("请选择视频文件");return}if(S.size>U){alert(`文件大小超过限制 (${M(U)})。
当前文件大小: ${M(S.size)}

您可以在下方解除限制。`);return}K(S),w();const q=h(S);$(q);const k=document.createElement("video");k.preload="metadata",k.onloadedmetadata=()=>{X(k.duration),URL.revokeObjectURL(k.src)},k.src=q}},m=async()=>{if(!p)return;await u(p,F,F==="gif"?d:void 0)},l=()=>{if(!o)return;const D=document.createElement("a");D.href=o.url,D.download=o.name,D.click()},A=()=>{K(null),O&&(v(O),$(null)),X(null),E(),w()},T=()=>{W(!0)},Y=()=>{H(x.VIDEO_CONVERTOR.MAX_SIZE_UNLOCKED),W(!1)};return e.jsxs(b,{sx:{maxWidth:800,mx:"auto",py:3},children:[e.jsx(Q,{elevation:3,children:e.jsxs(ie,{children:[e.jsx(N,{severity:"info",sx:{mb:2},children:e.jsxs(f,{variant:"body2",color:"text.secondary",children:["请避免使用 32 位浏览器，有可能加载失败甚至崩溃。",e.jsx("br",{}),"浏览器转码处理速度慢（尤其是H.265编码），请耐心等待，大文件建议使用原生应用。"]})}),t&&e.jsxs(N,{severity:"info",sx:{mb:2},children:[e.jsx(f,{variant:"body2",children:"正在加载 FFmpeg..."}),e.jsx(re,{sx:{mt:1}})]}),n&&e.jsx(N,{severity:"error",sx:{mb:2},action:e.jsx(ee,{color:"inherit",size:"small",onClick:w,children:e.jsx(se,{fontSize:"small"})}),children:n}),e.jsxs(I,{spacing:3,children:[U<x.VIDEO_CONVERTOR.MAX_SIZE_UNLOCKED&&e.jsxs(N,{severity:"info",sx:{mb:0},children:[e.jsxs(f,{variant:"body2",gutterBottom:!0,children:["当前文件大小限制: ",M(U)]}),e.jsxs(_,{size:"small",variant:"outlined",onClick:T,startIcon:e.jsx(ne,{}),sx:{mt:1},children:["解除限制（最大"," ",M(x.VIDEO_CONVERTOR.MAX_SIZE_UNLOCKED),"）"]})]}),e.jsxs(b,{children:[e.jsxs(_,{variant:"contained",component:"label",startIcon:e.jsx(ge,{}),disabled:t||r,fullWidth:!0,children:["选择视频文件",e.jsx("input",{type:"file",accept:"video/*",hidden:!0,onChange:y})]}),p&&e.jsx(Q,{variant:"outlined",sx:{mt:2,p:2},children:e.jsxs(I,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(b,{flex:1,children:[e.jsx(f,{variant:"body2",fontWeight:"medium",children:p.name}),e.jsxs(f,{variant:"caption",color:"text.secondary",children:[M(p.size),V&&` • ${V.toFixed(1)}秒`]})]}),e.jsx(ee,{size:"small",onClick:A,disabled:r,children:e.jsx(we,{})})]})})]}),p&&O&&e.jsxs(b,{children:[e.jsx(f,{variant:"subtitle2",gutterBottom:!0,children:"视频预览"}),e.jsx(b,{sx:{position:"relative",width:"100%",maxWidth:640,mx:"auto",bgcolor:"black",borderRadius:1,overflow:"hidden"},children:e.jsx("video",{ref:L,src:O,controls:!0,style:{width:"100%",height:"auto",display:"block"}})})]}),p&&e.jsxs(e.Fragment,{children:[e.jsxs(Fe,{fullWidth:!0,children:[e.jsx(Se,{id:"output-format-label",children:"输出格式"}),e.jsxs(Ce,{labelId:"output-format-label",value:F,label:"输出格式",onChange:D=>P(D.target.value),disabled:r,children:[e.jsx(z,{value:"mp4",children:"MP4 (H.264)"}),e.jsx(z,{value:"mov",children:"MOV (H.264)"}),e.jsx(z,{value:"mkv",children:"MKV (H.265)"}),e.jsx(z,{value:"gif",children:"GIF (动图)"})]})]}),F==="gif"&&e.jsx(qe,{config:d,onChange:g,videoDuration:V||void 0}),r?e.jsx(I,{direction:"row",spacing:2,children:e.jsx(_,{variant:"outlined",color:"error",size:"large",startIcon:e.jsx(se,{}),onClick:i,fullWidth:!0,children:"取消转换"})}):e.jsx(_,{variant:"contained",color:"primary",size:"large",startIcon:e.jsx(ke,{}),onClick:m,disabled:!p||t||r,fullWidth:!0,children:"开始转换"})]}),r&&s&&e.jsxs(b,{children:[e.jsxs(I,{direction:"row",justifyContent:"space-between",mb:1,children:[e.jsx(f,{variant:"body2",children:"转换进度"}),e.jsx(f,{variant:"body2",fontWeight:"medium",children:s.speed})]}),e.jsx(re,{variant:"determinate",value:s.ratio*100})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx(Re,{}),e.jsxs(N,{severity:"success",sx:{mb:0},children:[e.jsx(f,{variant:"body2",gutterBottom:!0,children:"转换完成！"}),e.jsx(I,{direction:"row",spacing:1,alignItems:"center",mt:1,children:e.jsx(Ie,{label:o.name,size:"small",color:"success"})})]}),e.jsxs(I,{direction:"row",spacing:2,children:[e.jsx(_,{variant:"contained",color:"success",startIcon:e.jsx(Oe,{}),onClick:l,fullWidth:!0,children:"下载转换后的视频"}),e.jsx(_,{variant:"outlined",onClick:A,children:"重新转换"})]})]})]})]})}),e.jsxs(ve,{open:Z,onClose:()=>W(!1),children:[e.jsx(je,{children:e.jsxs(I,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(ne,{color:"warning"}),e.jsx("span",{children:"解除文件大小限制"})]})}),e.jsx(De,{children:e.jsxs(_e,{children:["您即将解除文件大小限制，最大可处理"," ",M(x.VIDEO_CONVERTOR.MAX_SIZE_UNLOCKED)," 的文件。",e.jsx("br",{}),e.jsx("br",{}),"• 处理大文件将会消耗大量内存和时间",e.jsx("br",{}),"• 可能导致浏览器卡顿或崩溃",e.jsx("br",{}),"• 请确认设备硬件配置较好",e.jsx("br",{}),e.jsx("br",{}),"确定要继续吗？"]})}),e.jsxs(be,{children:[e.jsx(_,{onClick:()=>W(!1),children:"取消"}),e.jsx(_,{onClick:Y,color:"warning",variant:"contained",children:"确认解除限制"})]})]})]})},at=()=>{let t="视频格式转换器",r="在浏览器中转换视频格式，支持多种格式互转。";for(const s of xe)s.link==="/videoconvertor"&&(t=s.title,r=s.description);return e.jsx(pe,{children:e.jsx(b,{sx:{py:6},children:e.jsxs(I,{spacing:4,alignItems:"center",children:[e.jsxs(b,{textAlign:"center",children:[e.jsx(f,{variant:"h3",gutterBottom:!0,children:t}),e.jsx(f,{variant:"h6",color:"text.secondary",children:r})]}),e.jsx(Je,{})]})})})};export{at as default};
